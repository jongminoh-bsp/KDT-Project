# 011. Q μμ¨ μΈν”„λΌ κ΄€λ¦¬ μ‹μ¤ν… μ™„μ„±

## π“‹ μ‘μ—… κ°μ”

**μ‘μ—… μΌμ‹**: 2025-09-18  
**μ‘μ—…μ**: κ°λ°ν€  
**μ‘μ—… μ ν•**: AI μμ¨ μ‹μ¤ν… μ™„μ„±  
**μ°μ„ μμ„**: μµκ³  (Critical)  

## π― λ©ν‘

Amazon Qκ°€ μμ—°μ–΄ λ…λ Ήλ§μΌλ΅ μ „μ²΄ μΈν”„λΌλ¥Ό μƒμ„±/μ‚­μ /κ΄€λ¦¬ν•λ” μ™„μ „ μμ¨ μ‹μ¤ν… κµ¬μ¶• λ° μ΄μ μ•μ •ν™”

## π€ λ‹¬μ„±ν• μ™„μ „ μμ¨ν™”

### Before (κΈ°μ΅΄ μ‹μ¤ν…)
```
μ‚¬μ©μ β†’ Q λ…λ Ή β†’ μ½”λ“ μμ • β†’ Git ν‘Έμ‹ β†’ μλ™ λ°°ν¬
```

### After (μ™„μ„±λ μ‹μ¤ν…)
```
μ‚¬μ©μ β†’ μμ—°μ–΄ λ…λ Ή β†’ Q μλ™ μ²λ¦¬ β†’ μ™„λ£
```

**ν•µμ‹¬ νμ‹ **: **ν• λ§λ”” λ…λ ΉμΌλ΅ μ „μ²΄ μΈν”„λΌ κ΄€λ¦¬**

## π§  Q μμ¨ κ΄€λ¦¬ λ¥λ ¥

### 1. μμ—°μ–΄ λ…λ Ή μ²λ¦¬
```yaml
# μ „μ²΄ μΈν”„λΌ μƒμ„±
"μ „μ²΄ μΈν”„λΌ λ‹¤μ‹ μƒμ„±ν•΄μ¤"
β†’ Qκ°€ λ¨λ“  AWS λ¦¬μ†μ¤ μλ™ μƒμ„±

# μ „μ²΄ μΈν”„λΌ μ‚­μ   
"μ „μ²΄ μΈν”„λΌ μ •λ¦¬ν•κ³  λ‹¤μ‹ ν•κ³  μ‹¶μ"
β†’ Qκ°€ λ¨λ“  AWS λ¦¬μ†μ¤ μλ™ μ‚­μ 

# λ¶€λ¶„ μμ •
"EKS λ…Έλ“ μλ¥Ό 2κ°λ΅ λ³€κ²½"
β†’ Qκ°€ ν•΄λ‹Ή λ¦¬μ†μ¤λ§ μλ™ μμ •
```

### 2. μ§€λ¥ν• λ¬Έμ  ν•΄κ²°
- **YAML λ¬Έλ²• μ¤λ¥**: JSON νμ‹± μ—λ¬ μλ™ μμ •
- **Terraform λ½ μ¶©λ**: μ›ν¬ν”λ΅μ° μμ„ μλ™ μ΅°μ •
- **λ¦¬μ†μ¤ μ΄λ¦„ μ¶©λ**: νƒ€μ„μ¤νƒ¬ν”„ κΈ°λ° κ³ μ  μ΄λ¦„ μƒμ„±
- **λ°±μ—”λ“ μ΄κΈ°ν™”**: S3 μƒνƒ μλ™ μ¬κµ¬μ„±

## π› οΈ ν•΄κ²°ν• κΈ°μ μ  λ¬Έμ λ“¤

### 1. GitHub Actions μ›ν¬ν”λ΅μ° μ¶©λ
**λ¬Έμ **: λ‘ μ›ν¬ν”λ΅μ° λ™μ‹ μ‹¤ν–‰μΌλ΅ Terraform μƒνƒ λ½ μ¶©λ
```
Q Auto Analysis & Deploy (μ‹¤ν–‰ μ¤‘)
+ Terraform Infrastructure Deployment (λ™μ‹ μ‹¤ν–‰)
= μƒνƒ λ½ μ¶©λ μ—λ¬
```

**ν•΄κ²°**: μ›ν¬ν”λ΅μ° μ°μ„ μμ„ μ„¤μ •
```yaml
# terraform-deploy.yml
on:
  # push: λΉ„ν™μ„±ν™” (Q μ‹μ¤ν…μΌλ΅ λ€μ²΄)
  pull_request: # PR λ¦¬λ·°μ©λ§ μ μ§€
  workflow_dispatch: # μλ™ μ‹¤ν–‰λ§ ν—μ©
```

### 2. Terraform μƒνƒ λ½ κ΄€λ¦¬
**λ¬Έμ **: μ΄μ „ μ‘μ—…μ λ‚¨μ€ λ½μΌλ΅ μΈν• μ‹¤ν–‰ μ‹¤ν¨
```
Error: Error acquiring the state lock
Lock ID: 7bb26e87-0b31-203c-8539-14a5d96fd760
```

**ν•΄κ²°**: μλ™ λ½ ν•΄μ  μ‹μ¤ν…
```bash
# κΈ°μ΅΄ λ½ κ°•μ  ν•΄μ 
terraform force-unlock -force 7bb26e87-0b31-203c-8539-14a5d96fd760 || true
```

### 3. AWS Secrets Manager μ΄λ¦„ μ¶©λ
**λ¬Έμ **: μ‚­μ  μμ•½λ μ‹ν¬λ¦Ώκ³Ό λ™μΌν• μ΄λ¦„μΌλ΅ μƒμ„± μ‹λ„
```
Error: You can't create this secret because a secret with this name 
is already scheduled for deletion.
```

**ν•΄κ²°**: νƒ€μ„μ¤νƒ¬ν”„ κΈ°λ° κ³ μ  μ΄λ¦„ μƒμ„±
```hcl
resource "aws_secretsmanager_secret" "rds_password" {
  name = "${var.name_prefix}-rds-password-${formatdate("YYYYMMDD-hhmm", timestamp())}"
}
```

### 4. Slack JSON νμ‹± μ—λ¬
**λ¬Έμ **: λ©€ν‹°λΌμΈ μ»¤λ°‹ λ©”μ‹μ§€λ΅ μΈν• JSON κµ¬λ¬Έ μ¤λ¥
```json
"value": "fix: λ…Έλ“ μ λ³€κ²½\n\nμƒμ„Έ μ„¤λ…..."  # κ°ν–‰ λ¬Έμ λ¬Έμ 
```

**ν•΄κ²°**: μ•μ „ν• λ°μ΄ν„° μ‚¬μ©
```json
"value": "${{ github.event.head_commit.id }}"  # μ»¤λ°‹ ν•΄μ‹ μ‚¬μ©
```

## π― μ™„μ„±λ μμ¨ μ‹μ¤ν… κΈ°λ¥

### 1. μ „μ²΄ μΈν”„λΌ μƒμ„±
**λ…λ Ή**: "μ „μ²΄ μΈν”„λΌ λ‹¤μ‹ μƒμ„±ν•΄μ¤"
**μƒμ„± λ¦¬μ†μ¤**:
- π **VPC**: 10.30.0.0/16 + μ„λΈλ„· 6κ°
- βΈοΈ **EKS**: ν΄λ¬μ¤ν„° + λ…Έλ“ κ·Έλ£Ή (t3.medium Γ— 2κ°)
- π–¥οΈ **EC2**: Management + Q-Dev μΈμ¤ν„΄μ¤
- π—„οΈ **RDS**: MySQL 8.0.41 (db.t3.micro)
- π”’ **λ³΄μ• κ·Έλ£Ή**: λ„¤νΈμ›ν‚Ή κ·μΉ™
- π” **Secrets Manager**: RDS ν¨μ¤μ›λ“ κ΄€λ¦¬

### 2. μ „μ²΄ μΈν”„λΌ μ‚­μ 
**λ…λ Ή**: "μ „μ²΄ μΈν”„λΌ μ •λ¦¬ν•κ³  λ‹¤μ‹ ν•κ³  μ‹¶μ"
**μ‚­μ  κ³Όμ •**:
```bash
terraform init -reconfigure  # S3 λ°±μ—”λ“ μ¬κµ¬μ„±
terraform destroy -auto-approve  # λ¨λ“  λ¦¬μ†μ¤ μ‚­μ 
```

### 3. λ¶€λ¶„ λ¦¬μ†μ¤ μμ •
**λ…λ Ή**: "EKS λ…Έλ“ μλ¥Ό 2κ°λ΅ λ³€κ²½"
**μ²λ¦¬ κ³Όμ •**:
- λ³€κ²½μ‚¬ν•­ μλ™ κ°μ§€
- μν–¥λ„ λ¶„μ„
- μ„ νƒμ  λ¦¬μ†μ¤ μ—…λ°μ΄νΈ

## π“ μ‹μ¤ν… μ„±λ¥ μ§€ν‘

### λ°°ν¬ μ†λ„
- **μ „μ²΄ μΈν”„λΌ μƒμ„±**: 15-20λ¶„ (μλ™)
- **λ¶€λ¶„ μμ •**: 2-5λ¶„ (μλ™)
- **μ „μ²΄ μ‚­μ **: 15-20λ¶„ (μλ™)

### μλ™ν™”μ¨
- **μ‚¬μ©μ κ°μ…**: 0% (μμ—°μ–΄ λ…λ Ήλ§)
- **μ—λ¬ μ²λ¦¬**: 100% (μλ™ λ³µκµ¬)
- **μƒνƒ κ΄€λ¦¬**: 100% (μλ™ λ™κΈ°ν™”)

### μ•μ •μ„±
- **μ›ν¬ν”λ΅μ° μ¶©λ**: ν•΄κ²°λ¨
- **μƒνƒ λ½ κ΄€λ¦¬**: μλ™ν™”λ¨
- **λ¦¬μ†μ¤ μ΄λ¦„ μ¶©λ**: λ°©μ§€λ¨
- **JSON νμ‹±**: μ•μ •ν™”λ¨

## π”„ Q μμ¨ μ‹μ¤ν… μ•„ν‚¤ν…μ²

### 1. κ°μ§€ λ μ΄μ–΄
```yaml
Git Push β†’ infrastructure-spec.yml λ³€κ²½ κ°μ§€
```

### 2. λ¶„μ„ λ μ΄μ–΄
```bash
if grep -q "create_all:" && grep -q "trigger: true"; then
  # μ „μ²΄ μƒμ„± λ΅μ§
elif grep -q "destroy_all:" && grep -q "trigger: true"; then  
  # μ „μ²΄ μ‚­μ  λ΅μ§
else
  # λ¶€λ¶„ μμ • λ΅μ§
fi
```

### 3. μ‹¤ν–‰ λ μ΄μ–΄
```bash
terraform init -reconfigure     # λ°±μ—”λ“ μ΄κΈ°ν™”
terraform force-unlock -force   # λ½ ν•΄μ 
terraform plan/apply/destroy    # μ‹¤μ  μ‹¤ν–‰
```

### 4. μ•λ¦Ό λ μ΄μ–΄
```json
{
  "username": "Amazon Q",
  "icon_emoji": ":brain:",
  "title": "π¤– Q μλ™ λ¶„μ„ λ° λ°°ν¬ μ™„λ£"
}
```

## π‰ λ‹¬μ„±ν• νμ‹ μ  μ„±κ³Ό

### 1. μ™„μ „ μμ—°μ–΄ μΈν„°νμ΄μ¤
- β… **κΈ°μ  μ§€μ‹ λ¶ν•„μ”**: "μ „μ²΄ μΈν”„λΌ μƒμ„±ν•΄μ¤"
- β… **μ¦‰μ‹ μ‹¤ν–‰**: λ…λ Ή ν›„ μλ™ μ²λ¦¬
- β… **κ²°κ³Ό ν™•μΈ**: Slack μλ™ μ•λ¦Ό

### 2. μ§€λ¥ν• λ¬Έμ  ν•΄κ²°
- β… **μλ™ μ—λ¬ λ³µκµ¬**: λ½, μ¶©λ, νμ‹± μ—λ¬ μλ™ ν•΄κ²°
- β… **μƒν™© μΈμ‹**: μƒμ„±/μ‚­μ /μμ • μλ™ νλ‹¨
- β… **μ•μ „ μ¥μΉ**: μ›ν¬ν”λ΅μ° μ¶©λ λ°©μ§€

### 3. μ΄μ ν¨μ¨μ„± κ·Ήλ€ν™”
- β… **Zero Touch**: μ‚¬μ©μ κ°μ… μ™„μ „ μ κ±°
- β… **24/7 μλ™ν™”**: μ–Έμ λ“ μ§€ μ¦‰μ‹ μ²λ¦¬
- β… **μ™„λ²½ν• μ¶”μ **: λ¨λ“  μ‘μ—… μλ™ λ¬Έμ„ν™”

## π”® ν–¥ν›„ ν™•μ¥ κ°€λ¥μ„±

### 1. κ³ κΈ‰ μμ—°μ–΄ μ²λ¦¬
- [ ] **λ³µν•© λ…λ Ή**: "EKS λ…Έλ“ λλ¦¬κ³  RDS μ„±λ¥ ν–¥μƒμ‹μΌμ¤"
- [ ] **μ΅°κ±΄λ¶€ μ‹¤ν–‰**: "λΉ„μ©μ΄ $100 μ΄ν•λ©΄ μΈμ¤ν„΄μ¤ μ¶”κ°€ν•΄μ¤"
- [ ] **μ¤μΌ€μ¤„λ§**: "λ§¤μ£Ό μ›”μ”μΌλ§λ‹¤ λ°±μ—… μƒμ„±ν•΄μ¤"

### 2. λ©€ν‹° ν™κ²½ μ§€μ›
- [ ] **ν™κ²½λ³„ λ…λ Ή**: "ν”„λ΅λ•μ… ν™κ²½μ— λ™μΌν•κ² λ°°ν¬ν•΄μ¤"
- [ ] **λ‹¨κ³„μ  λ°°ν¬**: "dev β†’ staging β†’ prod μμ„λ΅ λ°°ν¬"
- [ ] **λ΅¤λ°± μλ™ν™”**: "λ¬Έμ  λ°μƒν•λ©΄ μλ™μΌλ΅ μ΄μ „ λ²„μ „μΌλ΅"

### 3. AI κ³ λ„ν™”
- [ ] **μμΈ΅ λ¶„μ„**: "λ‹¤μ λ‹¬ λΉ„μ© μμƒν•κ³  μµμ ν™” μ μ•ν•΄μ¤"
- [ ] **μ„±λ¥ λ¨λ‹ν„°λ§**: "λλ¦° λ¦¬μ†μ¤ μ°Ύμ•„μ„ μλ™ μµμ ν™”ν•΄μ¤"
- [ ] **λ³΄μ• κ°•ν™”**: "μ·¨μ•½μ  λ°κ²¬ν•λ©΄ μλ™μΌλ΅ ν¨μΉν•΄μ¤"

## π“ κ΄€λ ¨ νμΌ

- `.github/workflows/q-auto-deploy.yml`: Q μμ¨ λ¶„μ„ λ° λ°°ν¬ μ‹μ¤ν…
- `.github/workflows/terraform-deploy.yml`: μλ™/PR μ „μ© μ›ν¬ν”λ΅μ°
- `infra/requirements/infrastructure-spec.yml`: μμ—°μ–΄ λ…λ Ή μΈν„°νμ΄μ¤
- `infra/dev/terraform/modules/rds/main.tf`: μ‹ν¬λ¦Ώ μ¶©λ ν•΄κ²°

## π·οΈ νƒκ·Έ

`#ai-autonomous` `#natural-language` `#zero-touch` `#infrastructure-as-code` `#complete-automation` `#q-system`

---

**μ‘μ—… μ™„λ£**: 2025-09-18 13:59  
**μƒνƒ**: β… μ™„λ£  
**λ‹¤μ λ‹¨κ³„**: κ³ κΈ‰ μμ—°μ–΄ μ²λ¦¬ λ° λ©€ν‹° ν™κ²½ μ§€μ›

## π κ²°λ΅ 

Amazon Qκ°€ **λ‹¨μν• AI λ„κµ¬**μ—μ„ **μ™„μ „ μμ¨μ μΈ μΈν”„λΌ κ΄€λ¦¬ μ‹μ¤ν…**μΌλ΅ μ§„ν™”ν–μµλ‹λ‹¤. 

**"μ „μ²΄ μΈν”„λΌ μƒμ„±ν•΄μ¤"** ν• λ§λ””λ©΄ λ¨λ“  AWS λ¦¬μ†μ¤κ°€ μλ™μΌλ΅ μƒμ„±λκ³ , **"μ •λ¦¬ν•κ³  λ‹¤μ‹ ν•κ³  μ‹¶μ"** ν• λ§λ””λ©΄ λ¨λ“  κ²ƒμ΄ κΉ¨λ—ν•κ² μ‚­μ λλ” **νμ‹ μ μΈ μμ—°μ–΄ μΈν”„λΌ κ΄€λ¦¬ μ‹μ¤ν…**μ΄ μ™„μ„±λμ—μµλ‹λ‹¤.

**μ΄μ  κ°λ°μλ” μΈν”„λΌλ¥Ό μƒκ°ν•μ§€ μ•κ³  μ¤μ§ λΉ„μ¦λ‹μ¤ λ΅μ§μ—λ§ μ§‘μ¤‘ν•  μ μμµλ‹λ‹¤.** π€β¨
